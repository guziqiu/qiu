#include <iostream>

struct tree {
    long long sum;
    long long flag;
};
struct tree tree1[20000];
long long arr[10000 + 5];

void xtree(long long index, long long left, long long right) {//çº¿æ®µæ ‘
    if (left == right) {//
        tree1[index].sum = arr[left];
        return ;
    }
    long long mid = (left + right) / 2;
    xtree(index * 2, left, mid);
    xtree(index * 2 + 1, mid + 1, right);
    tree1[index].sum = tree1[index * 2].sum + tree1[index * 2 + 1].sum;
    return ;
}

void flag1(long long i, long long left, long long right) {//[i]
    if (tree1[i].flag) {
        long long mid = (left + right) / 2;
        long long value = tree1[i].flag;
        tree1[i * 2].sum += value * (mid - left + 1);
        tree1[i * 2].flag += value;
        tree1[i * 2 + 1].sum += value * (right - mid);
        tree1[i * 2 + 1].flag += value;
        tree1[i].flag = 0;
    }
    return ;
}
void add(long long i, long long left, long long right, long long b, long long c, long long d) {//[1, n] [b,c] å°†æ•°ç»„ [ğ‘,ğ‘]åŒºé—´å†…çš„æ•°å­—åŠ ä¸Š ğ‘‘
    long long n = right;
     // left == 1
    if (b <= 1 && n <= c) {
        tree1[i].sum += d * n;
        tree1[i].flag += d;
        return ;
    }
    //å¤„ç†æ‡’æ ‡è®°
    flag1(i, left, n);
    long long mid = (1 + n) / 2;
    if (mid < c) add(i << 1 | 1, mid + 1, n, b, c, d);//
    if (mid >= b) add(i << 1, left, mid, b, c, d);

    tree1[i].sum = tree1[i * 2].sum + tree1[i * 2 + 1].sum; 

}

long long query(long long i, long long left, long long right, long long b, long long c) {//è¯¢é—® [ğ‘,ğ‘] åŒºé—´å†…çš„å’Œå€¼
    long long n = right;
    if (b <= left && right <= c) return tree1[i].sum;
    flag1(i, left, right);
    long long mid = (1 + n) >> 2;
    long long sum = 0;
    if (mid < c) sum += query(i << 1 | 1, mid + 1, n, b, c);//
    if (mid >= b) sum += query(i << 1, left, mid, b, c);
    return sum;
}

int main() {
    long long n, m;
    scanf("%lld%lld", &n, &m);//ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° ğ‘›,ğ‘š(1â‰¤ğ‘›â‰¤10000ï¼Œ3â‰¤ğ‘šâ‰¤100000)ï¼Œåˆ†åˆ«ä»£è¡¨æ•°ç»„å¤§å°å’Œæ“ä½œæ•°ã€‚
    for (long long i = 1; i <= n; i++) {
        scanf("%lld", arr + i);//ç¬¬äºŒè¡ŒåŒ…å« ğ‘›ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°ç»„ä¸­ç›¸åº”çš„æ•°å­—ï¼Œæ•°å­—å¤§å°ä¸ä¼šè¶…è¿‡ ğ‘–ğ‘›ğ‘¡ è¡¨ç¤ºèŒƒå›´ã€‚
    }
    xtree(1, 1, n);
    long long a, b, c, d;
    for (long long i = 0; i < m; i++) {
        scanf("%lld%lld%lld", &a, &b, &c);
        switch(a) {
            case 1: {
                scanf("%lld", &d);
                add(1, 1, n, b, c, d);
            } break;
            case 2: {//å½“ ğ‘=2 æ—¶ï¼Œæ¥ä¸‹æ¥è¾“å…¥ ğ‘,ğ‘ï¼Œè¾“å…¥ä»£è¡¨è¯¢é—® [ğ‘,ğ‘] åŒºé—´å†…çš„å’Œå€¼ ( 1â‰¤ğ‘,ğ‘â‰¤ğ‘›)ï¼Œå½“ ğ‘>ğ‘ æ—¶ï¼Œè¾“å‡º 0ã€‚
                if (b > c) {
                    printf("0\n");
                    break;
                }
                printf("%lld\n", query(1, 1, n, b, c));
            } break;
        }
    }

    
    return 0;
}

